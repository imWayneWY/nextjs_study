{"version":3,"file":"static/webpack/static/development/pages/search.js.590f5a2e5bec6ba9ccb2.hot-update.js","sources":["webpack:///./lib/api.js"],"sourcesContent":["const axios = require('axios')\n\nconst github_base_url = 'https://api.github.com'\n\nasync function requestGithub(method, url, data, headers) {\n  return await axios({\n    method,\n    url: `${github_base_url}${url}`,\n    data,\n    headers,\n  })\n}\n\nconst isServer = typeof window === 'undefined'\nasync function request({ method = 'GET', url, data }, req, res) {\n  if (!url) {\n    throw Error('url must provide')\n  }\n  if (isServer) {\n    const session = req.session\n    const githubAuth = session.githubAuth || {}\n    const headers = {}\n    if (githubAuth.access_token) {\n      headers['Authorization'] = `${githubAuth.token_type} ${githubAuth.access_token}`\n    }\n    return await requestGithub(method, url, data, headers)\n  } else {\n    return await axios({\n      method,\n      url: `/github${url}`,\n      data,\n    })\n  }\n}\n\nmodule.exports = {\n  request,\n  requestGithub,\n}"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AACA;AAFA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AASA;AACA;AAAA;;;;;;;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AAIA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAXA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAcA;AACA;AACA;AAHA;AACA;AAdA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AAqBA;AACA;AACA;AAFA;;;;A","sourceRoot":""}